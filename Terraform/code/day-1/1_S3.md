                    ┌─────────────────────────────┐
                    │        Terraform CLI        │
                    │   (terraform apply)         │
                    └──────────────┬──────────────┘
                                   │
                                   ▼
                    ┌─────────────────────────────┐
                    │        AWS Provider         │
                    │     region = ca-central-1   │
                    └──────────────┬──────────────┘
                                   │
                                   ▼
        =========================================================
                        IAM SECTION (Access Control)
        =========================================================

        Step 1 ───────────────► Create IAM User
                               aws_iam_user

                                   │
                                   ▼
        Step 2 ───────────────► Create IAM Group
                               aws_iam_group

                                   │
                                   ▼
        Step 3 ───────────────► Add User to Group
                               aws_iam_group_membership

                                   │
                                   ▼
        Step 4 ───────────────► Attach Policy to Group
                               aws_iam_group_policy_attachment
                               (AmazonS3FullAccess)

                                   │
                                   ▼
        RESULT:
        User now has permission to:
        ✔ Create S3
        ✔ Upload objects
        ✔ Manage bucket


        =========================================================
                        S3 SECTION (Storage Layer)
        =========================================================

        Step 5 ───────────────► Create S3 Bucket
                               aws_s3_bucket

                                   │
                                   ▼
        Step 6 ───────────────► Ownership Controls
                               aws_s3_bucket_ownership_controls
                               (BucketOwnerPreferred)

                                   │
                                   ▼
        Step 7 ───────────────► Public Access Block Settings
                               aws_s3_bucket_public_access_block
                               (All FALSE for website)

                                   │
                                   ▼
        Step 8 ───────────────► Enable Website Hosting
                               aws_s3_bucket_website_configuration
                               index.html

                                   │
                                   ▼
        Step 9 ───────────────► Upload index.html
                               aws_s3_object
                               content_type = text/html

                                   │
                                   ▼
        =========================================================
                     CRITICAL STEP (PUBLIC ACCESS)
        =========================================================

        Step 10 ──────────────► Attach Bucket Policy
                               aws_s3_bucket_policy

                               Permission:
                               Principal = "*"
                               Action = s3:GetObject
                               Resource = bucket/*

                                   │
                                   ▼
        RESULT:
        Public users can:
        ✔ Open website
        ✘ Cannot upload
        ✘ Cannot delete
        ✘ Cannot modify


        =========================================================
                        FINAL OUTPUT FLOW
        =========================================================

        Browser
           │
           ▼
  http://bucket-name.s3-website-region.amazonaws.com
           │
           ▼
  S3 checks:
     ✔ Public Access Block?
     ✔ Bucket Policy?
     ✔ Object exists?
           │
           ▼
  If Allowed → Website Loads
  If Not → 403 AccessDenied
